<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>TheBoiisMC Account</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" />
  
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'sans-serif'] },
          colors: {
            brand: { 500: '#6366f1', 600: '#4f46e5' },
            surface: { 
              900: '#0f172a', // Main background
              800: '#1e293b', // Card/Menu background
              700: '#334155'  // Borders/Hover
            }
          }
        }
      }
    }
  </script>

  <style>
    body { background-color: #0f172a; color: #e2e8f0; }
    
    /* Shadows & Transitions */
    .menu-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.3); }
    
    /* Dropdown Pop-in Animation */
    .dropdown-enter {
        animation: scaleIn 0.1s ease-out forwards;
        transform-origin: top right;
    }
    @keyframes scaleIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }

    /* Tab Fade-in Animation */
    .fade-in {
      animation: fadeIn 0.3s ease-out forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #0f172a; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #475569; }
  </style>
</head>

<body class="flex flex-col md:flex-row min-h-screen antialiased selection:bg-brand-500 selection:text-white">

  <header class="fixed top-0 w-full z-50 px-4 py-3 flex items-center justify-between bg-[#0f172a]/90 backdrop-blur-md border-b border-white/5">
    
    <div class="flex items-center gap-4">
        <button id="mobile-menu-btn" class="md:hidden p-2 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition">
            <span class="material-symbols-rounded">menu</span>
        </button>
        <a href="/" class="flex items-center gap-2 group">
            <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-lg">B</div>
            <span class="font-medium text-lg text-white">TheBoiis<span class="text-slate-500">MC</span></span>
        </a>
    </div>

    <div class="flex items-center gap-2 md:gap-3">
        <button id="apps-btn" class="p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition relative">
            <span class="material-symbols-rounded text-[24px]">apps</span>
        </button>

        <button id="user-btn" class="ml-1 w-9 h-9 rounded-full bg-indigo-600 text-white font-medium flex items-center justify-center hover:ring-2 hover:ring-slate-500 transition overflow-hidden">
            <span id="header-avatar">U</span>
        </button>
    </div>
  </header>

  <div id="apps-menu" class="hidden fixed top-16 right-4 w-[320px] bg-[#1e293b] rounded-3xl p-6 menu-shadow border border-white/5 z-[60] dropdown-enter">
      <div class="grid grid-cols-3 gap-y-6 gap-x-2">
          <a href="https://www.theboiismc.com" class="flex flex-col items-center gap-2 group hover:bg-white/5 p-2 rounded-xl transition">
              <span class="material-symbols-rounded text-3xl text-indigo-400 bg-indigo-500/10 p-3 rounded-full">home</span>
              <span class="text-xs font-medium text-slate-300">Home</span>
          </a>
          <a href="https://search.theboiismc.com" class="flex flex-col items-center gap-2 group hover:bg-white/5 p-2 rounded-xl transition">
              <span class="material-symbols-rounded text-3xl text-blue-400 bg-blue-500/10 p-3 rounded-full">search</span>
              <span class="text-xs font-medium text-slate-300">Search</span>
          </a>
          <a href="https://maps.theboiismc.com" class="flex flex-col items-center gap-2 group hover:bg-white/5 p-2 rounded-xl transition">
              <span class="material-symbols-rounded text-3xl text-emerald-400 bg-emerald-500/10 p-3 rounded-full">map</span>
              <span class="text-xs font-medium text-slate-300">Maps</span>
          </a>
          <a href="/" class="flex flex-col items-center gap-2 group hover:bg-white/5 p-2 rounded-xl transition">
              <span class="material-symbols-rounded text-3xl text-purple-400 bg-purple-500/10 p-3 rounded-full">account_circle</span>
              <span class="text-xs font-medium text-slate-300">Account</span>
          </a>
          <a href="https://drive.theboiismc.com" class="flex flex-col items-center gap-2 group hover:bg-white/5 p-2 rounded-xl transition">
              <span class="material-symbols-rounded text-3xl text-yellow-400 bg-yellow-500/10 p-3 rounded-full">cloud</span>
              <span class="text-xs font-medium text-slate-300">Drive</span>
          </a>
          <a href="https://photos.theboiismc.com" class="flex flex-col items-center gap-2 group hover:bg-white/5 p-2 rounded-xl transition">
              <span class="material-symbols-rounded text-3xl text-red-400 bg-red-500/10 p-3 rounded-full">photo_library</span>
              <span class="text-xs font-medium text-slate-300">Photos</span>
          </a>
      </div>
  </div>

  <div id="user-menu" class="hidden fixed top-16 right-4 w-[300px] bg-[#1e293b] rounded-3xl p-0 menu-shadow border border-white/5 z-[60] dropdown-enter overflow-hidden">
      <div class="flex flex-col items-center pt-8 pb-6 px-6 bg-[#1e293b]">
          <div id="menu-avatar-large" class="w-20 h-20 rounded-full bg-indigo-600 text-white text-3xl font-medium flex items-center justify-center mb-4 ring-4 ring-[#0f172a]">U</div>
          <div id="menu-name" class="text-lg font-semibold text-white text-center">User</div>
          <div id="menu-email" class="text-sm text-slate-400 text-center break-all">user@example.com</div>
          <button onclick="switchTab('personal')" class="mt-4 text-xs border border-slate-600 hover:bg-white/5 text-slate-300 px-4 py-1.5 rounded-full transition">Manage Account</button>
      </div>
      
      <div class="h-px bg-white/10 w-full"></div>

      <div class="p-2">
          <button onclick="switchTab('security')" class="w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-300 hover:bg-white/5 hover:text-white rounded-xl transition text-left">
              <span class="material-symbols-rounded text-[20px]">shield</span> Security Settings
          </button>
          <a href="/logout" class="w-full flex items-center gap-3 px-4 py-3 text-sm text-slate-300 hover:bg-white/5 hover:text-white rounded-xl transition text-left">
              <span class="material-symbols-rounded text-[20px]">logout</span> Log Out
          </a>
      </div>
      
      <div class="bg-black/20 p-3 text-center">
          <span class="text-[10px] text-slate-600">Privacy Policy â€¢ Terms of Service</span>
      </div>
  </div>

  <div class="flex flex-1 pt-16">
      
      <aside id="sidebar" class="fixed inset-y-0 left-0 z-40 w-64 transform -translate-x-full md:translate-x-0 transition-transform duration-300 md:relative bg-[#0f172a] border-r border-white/5 flex flex-col pt-0 md:pt-4">
        
        <div class="md:hidden flex items-center justify-between p-4 border-b border-white/5 pt-6">
            <span class="font-bold text-white text-lg">Menu</span>
            <button id="close-sidebar-btn" class="p-2 text-slate-400 hover:text-white rounded-full hover:bg-white/10">
                <span class="material-symbols-rounded">close</span>
            </button>
        </div>

        <nav class="flex-1 px-3 space-y-1 mt-4 md:mt-0">
          <button onclick="switchTab('home')" id="nav-home" class="nav-link group active w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200">
            <span class="material-symbols-rounded text-[20px] opacity-70 group-hover:opacity-100">dashboard</span> 
            Dashboard
          </button>
          <button onclick="switchTab('personal')" id="nav-personal" class="nav-link group w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 transition-all duration-200">
            <span class="material-symbols-rounded text-[20px] opacity-70 group-hover:opacity-100">badge</span> 
            Personal Info
          </button>
          <button onclick="switchTab('security')" id="nav-security" class="nav-link group w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 transition-all duration-200">
            <span class="material-symbols-rounded text-[20px] opacity-70 group-hover:opacity-100">lock</span> 
            Security
          </button>
        </nav>
      </aside>
      
      <main class="flex-1 p-4 md:p-8 max-w-5xl mx-auto w-full">
         
         <div id="tab-home" class="tab-content fade-in space-y-8">
            <h1 class="text-2xl font-semibold mb-6 text-white">Home</h1>
            
            <div class="grid md:grid-cols-2 gap-4">
               <div class="p-6 rounded-2xl bg-[#1e293b] border border-white/5">
                   <h2 class="text-lg font-medium mb-2 text-white">Welcome</h2>
                   <p class="text-slate-400 text-sm">Manage your info, privacy, and security to make TheBoiisMC work better for you.</p>
               </div>
               <div class="p-6 rounded-2xl bg-[#1e293b] border border-white/5">
                   <h2 class="text-lg font-medium mb-2 text-white">Privacy suggestions</h2>
                   <p class="text-slate-400 text-sm mb-4">Take the Privacy Checkup to review key settings.</p>
                   <button onclick="switchTab('security')" class="text-indigo-400 text-sm font-medium hover:underline">Review settings</button>
               </div>
            </div>

            <h2 class="text-lg font-medium mt-8 mb-4 text-white">Your Services</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <a href="https://drive.theboiismc.com" class="p-4 bg-[#1e293b] rounded-2xl hover:bg-[#334155] transition flex flex-col items-center justify-center gap-2 h-32 border border-white/5 group">
                    <span class="material-symbols-rounded text-3xl text-blue-400 group-hover:scale-110 transition">cloud</span>
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white">Drive</span>
                </a>
                <a href="https://photos.theboiismc.com" class="p-4 bg-[#1e293b] rounded-2xl hover:bg-[#334155] transition flex flex-col items-center justify-center gap-2 h-32 border border-white/5 group">
                    <span class="material-symbols-rounded text-3xl text-red-400 group-hover:scale-110 transition">photo_library</span>
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white">Photos</span>
                </a>
                <a href="https://maps.theboiismc.com" class="p-4 bg-[#1e293b] rounded-2xl hover:bg-[#334155] transition flex flex-col items-center justify-center gap-2 h-32 border border-white/5 group">
                    <span class="material-symbols-rounded text-3xl text-emerald-400 group-hover:scale-110 transition">map</span>
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white">Maps</span>
                </a>
                <a href="https://search.theboiismc.com" class="p-4 bg-[#1e293b] rounded-2xl hover:bg-[#334155] transition flex flex-col items-center justify-center gap-2 h-32 border border-white/5 group">
                    <span class="material-symbols-rounded text-3xl text-indigo-400 group-hover:scale-110 transition">search</span>
                    <span class="text-sm font-medium text-slate-300 group-hover:text-white">Search</span>
                </a>
            </div>
         </div>

         <div id="tab-personal" class="tab-content hidden max-w-3xl">
            <h1 class="text-2xl font-semibold mb-2 text-white">Personal Info</h1>
            <p class="text-slate-400 text-sm mb-6">Manage how you appear across TheBoiisMC services.</p>

            <div class="bg-[#1e293b] border border-white/5 rounded-2xl overflow-hidden divide-y divide-white/5">
                
                <div class="p-6 flex items-center justify-between hover:bg-white/[0.02] transition cursor-pointer group" onclick="openEditModal('avatar')">
                   <div>
                      <div class="text-sm font-medium text-white mb-1">Profile picture</div>
                      <div class="text-xs text-slate-500">Visible to everyone</div>
                   </div>
                   <div class="flex items-center gap-4">
                       <div id="info-avatar-small" class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-sm">U</div>
                       <span class="material-symbols-rounded text-slate-500 group-hover:text-white transition">edit</span>
                   </div>
                </div>

                <div class="p-6 flex items-center justify-between hover:bg-white/[0.02] transition cursor-pointer group" onclick="openEditModal('name')">
                    <div>
                       <div class="text-sm font-medium text-white mb-1">Display Name</div>
                       <div id="info-name" class="text-sm text-slate-400">
                           <div class="h-4 w-32 bg-slate-700 rounded animate-pulse"></div>
                       </div>
                    </div>
                    <span class="material-symbols-rounded text-slate-500 group-hover:text-white transition">edit</span>
                </div>

                <div class="p-6 flex items-center justify-between hover:bg-white/[0.02] transition cursor-pointer group" onclick="openEditModal('email')">
                    <div>
                       <div class="text-sm font-medium text-white mb-1">Email Address</div>
                       <div id="info-email" class="text-sm text-slate-400">
                           <div class="h-4 w-48 bg-slate-700 rounded animate-pulse"></div>
                       </div>
                    </div>
                    <span class="material-symbols-rounded text-slate-500 group-hover:text-white transition">edit</span>
                </div>

            </div>
         </div>

         <div id="tab-security" class="tab-content hidden max-w-3xl">
            <h1 class="text-2xl font-semibold mb-2 text-white">Security & Login</h1>
            <p class="text-slate-400 text-sm mb-6">Settings are managed securely via Authentik.</p>

            <div class="bg-[#1e293b] border border-white/5 rounded-2xl overflow-hidden divide-y divide-white/5">
                
                <a href="https://accounts.theboiismc.com/if/flow/default-password-change/" target="_blank" class="p-6 flex items-center justify-between hover:bg-white/[0.02] transition group">
                    <div>
                        <div class="text-sm font-medium text-white mb-1">Password</div>
                        <div class="text-xs text-slate-500">Last changed: Managed by Authentik</div>
                    </div>
                    <span class="material-symbols-rounded text-slate-500 group-hover:text-white transition">open_in_new</span>
                </a>

                <a href="https://accounts.theboiismc.com/if/user/#/settings" target="_blank" class="p-6 flex items-center justify-between hover:bg-white/[0.02] transition group">
                    <div>
                        <div class="text-sm font-medium text-white mb-1">Multi-Factor Authentication</div>
                        <div class="text-xs text-slate-500">Add an extra layer of security (2FA)</div>
                    </div>
                    <span class="material-symbols-rounded text-slate-500 group-hover:text-white transition">open_in_new</span>
                </a>

                <div class="p-6 flex items-center justify-between">
                     <div>
                         <div class="text-sm font-medium text-white mb-1">Session Management</div>
                         <div class="text-xs text-slate-500">Log out of all active sessions</div>
                     </div>
                     <button class="text-xs border border-white/10 hover:bg-white/5 text-slate-300 px-3 py-1.5 rounded-lg transition">Manage</button>
                </div>
            </div>
         </div>

      </main>
  </div>

  <div id="edit-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
      <div class="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity opacity-0" id="modal-backdrop" onclick="closeModal()"></div>
      <div class="relative bg-[#1e293b] w-full max-w-md rounded-2xl border border-white/10 shadow-2xl transform scale-95 opacity-0 transition-all duration-200" id="modal-content">
          <div class="p-6">
              <h3 id="modal-title" class="text-xl font-bold text-white mb-2">Edit Info</h3>
              <p class="text-slate-400 text-sm mb-6">Update your information across TheBoiisMC.</p>
              
              <div class="mb-6">
                  <label class="text-xs font-semibold text-indigo-400 uppercase tracking-wider mb-2 block">New Value</label>
                  <input type="text" id="modal-input" class="w-full bg-[#0f172a] border border-slate-700 rounded-xl p-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:outline-none transition">
                  <p class="text-xs text-red-400 mt-2 hidden" id="modal-error"></p>
              </div>

              <div class="flex justify-end gap-3">
                  <button onclick="closeModal()" class="text-slate-400 font-medium px-4 py-2 rounded-lg hover:text-white hover:bg-white/5 transition text-sm">Cancel</button>
                  <button onclick="saveChanges()" id="save-btn" class="bg-indigo-600 text-white font-medium px-6 py-2 rounded-lg hover:bg-indigo-500 transition text-sm shadow-lg shadow-indigo-500/20">Save Changes</button>
              </div>
          </div>
      </div>
  </div>

  <div id="toast-container" class="fixed bottom-6 right-6 z-[110] flex flex-col gap-2 pointer-events-none"></div>

  <div id="sidebar-backdrop" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-30 hidden md:hidden"></div>

  <script src="/main.js"></script>
</body>
</html>
